!function(e){function t(r){if(n[r])return n[r].exports;var module=n[r]={i:r,l:!1,exports:{}};return e[r].call(module.exports,module,module.exports,t),module.l=!0,module.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(exports,e,n){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return t.d(e,"a",e),e},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=8)}([function(module,exports){module.exports=React},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(0),l=function(e){return e&&e.__esModule?e:{default:e}}(i),u=function(e){function i(){var e;t(this,i);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(o)))}return r(i,e),a(i,[{key:"extend",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)e[n]=t[n];return e}},{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"render",value:function(){return this.renderItem(this.props.state)}},{key:"getItemProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(this.props.getItemProps)return this.props.getItemProps(e,t);var n={},r=this.props.props;for(var o in e)o&&"type"!==o&&"children"!==o&&function(){var t=e[o];t&&/^on[A-Z]/g.test(o)&&(n[o]="string"==typeof t?function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];r.fire&&r.fire.apply(r,[t].concat(n))}:t)}();return n=this.extend(n,r)}},{key:"renderItem",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[],r=t.type;if(r){var a=this.components[r],i=this.getItemProps(t,a);if(null===i)return null;if(a)n.push(a,i);else{if("text"===r)return t.children;if(!/^[a-z]+$/g.test(r))return console.log("type: "+r+" not found, please add Engine components",t),null;n.push(r,i)}return this.isArray(t.children)?t.children.forEach(function(t){if(l.default.isValidElement(t))n.push(t);else{var r=e.renderItem(t);null!==r&&n.push(r)}}):-1!==["string","number","boolean"].indexOf(o(t.children))&&n.push(t.children),l.default.createElement.apply(l.default,n)}return console.log("type not exist",t),null}},{key:"components",get:function(){return this.props.components||{}}}]),i}(i.Component);u.defaultProps={state:{},props:{},components:{},getItemProps:null},exports.default=u},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return y.default.createElement("input",{value:e.value,type:"hidden"})}function a(e){return e.format=e.format||"url",y.default.createElement(h,e)}function i(e){return e.format=e.format||"color",e.inputType="color",y.default.createElement(h,e)}function l(e){return e.inputType="passworld",y.default.createElement(h,e)}function u(e){return e.format=e.format||"email",e.inputType="text",y.default.createElement(h,e)}function s(e){return e.format=e.format||"date",e.inputType="date",y.default.createElement(h,e)}function c(e){var t=e.value||e.children||"提交";return y.default.createElement("input",{disabled:e.disabled,style:e.style,type:"submit",className:e.className,value:t,onClick:function(t){t.preventDefault(),e.fire("Submit")}})}function f(e){var t=e.value||e.children||"重置";return y.default.createElement("input",{disabled:e.disabled,style:e.style,type:"reset",className:e.className,value:t,onClick:function(t){t.preventDefault(),e.fire("Reset")}})}function p(e){var t=e.value||e.children||"取消";return y.default.createElement("button",{disabled:e.disabled,style:e.style,className:"cancel"+(e.className?" "+e.className:""),onClick:function(t){t.preventDefault(),e.fire("Cancel")}},t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Date=exports.Cancel=exports.Reset=exports.Submit=exports.Email=exports.Passworld=exports.Color=exports.Url=exports.Hidden=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=e(0),y=function(e){return e&&e.__esModule?e:{default:e}}(m),h=function(e){function o(){var e;t(this,o);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];var l=n(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(a)));return l.onChange=l.onChange.bind(l),l.removeListen=l.listen(),l}return r(o,e),d(o,[{key:"listen",value:function(){var e=this.props.on("Valid",function(){}),t=this.props.on("Reset",function(){});return function(){e(),t()}}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.inputType,r=e.className,o=e.style,a=e.disabled,i=e.label;return y.default.createElement("div",{className:"input-item"},i?y.default.createElement("label",{className:"input-label"},i):null,y.default.createElement("input",{type:n,value:t||"",onChange:this.onChange,className:"input"+(r?" "+r:""),style:o,disabled:a}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.value!==e.value}},{key:"onChange",value:function(e){this.props.setValue(e.target.value)}},{key:"componentWillUnmount",value:function(){this.removeListen()}}]),o}(m.Component);h.defaultProps={value:null,fire:function(){},setValue:function(){},on:function(){},format:null,inputType:"text"},exports.default=h,exports.Hidden=o,exports.Url=a,exports.Color=i,exports.Passworld=l,exports.Email=u,exports.Submit=c,exports.Reset=f,exports.Cancel=p,exports.Date=s},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(0),l=t(i),u=e(1),s=t(u),c=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"renderItem",value:function(e,t){function n(e,n){var r={};for(var a in e)a&&"type"!==a&&"children"!==a&&function(){var t=e[a];t&&/^on[A-Z]/g.test(a)?r[a]="string"==typeof t?function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];u.apply(void 0,[t,e].concat(r))}:t:r[a]=e[a]}();return n&&(r.value=e.name?t[e.name]:t,r.setValue=function(n,r){e.name?t[e.name]=n:t=n,f(t,r)},r.fire=u,r.$components=i,r.on=c,r.formData=o),r}t=t||{};var r=this.props,o=r.formData,a=r.$components,i=void 0===a?{}:a,u=r.fire,c=r.on,f=r.setValue;return l.default.createElement(s.default,{components:i,state:e,getItemProps:n})}},{key:"render",value:function(){var e=this.props,t=e.item,n=void 0===t?{}:t,r=e.value,o=e.className;return this.renderItem({type:"div",children:n,className:"object-item"+(o?" "+o:"")},r)}}]),t}(i.Component);c.defaultProps={item:[],fire:function(){},on:function(){},setValue:function(){},formData:{}},exports.default=c},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(0),l=t(i),u=e(1),s=t(u),c=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"renderItem",value:function(e){function t(e,t){var o={};for(var i in e)i&&"type"!==i&&"children"!==i&&function(){var t=e[i];t&&/^on[A-Z]/g.test(i)?o[i]="string"==typeof t?function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];c.apply(void 0,[t,e].concat(r))}:t:o[i]=e[i]}();return o.label=null,t&&(o.value=e.name?n[e.name]:n,o.setValue=function(t,n){e.name?(d[r]=d[r]||{},d[r][e.name]=t):d[r]=t,p(d,n)},o.fire=c,o.$components=u,o.on=f,o.formData=a),o}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=this.props,a=o.formData,i=o.$components,u=void 0===i?{}:i,c=o.fire,f=o.on,p=o.setValue,d=o.value;return d=d||[],l.default.createElement(s.default,{components:u,state:e,getItemProps:t})}},{key:"renderOperation",value:function(e,t,n,r,o,a,i){var u=a&&i>=a,s=1===i||o&&i<=o,c=0===e,f=e===i;return l.default.createElement("div",{className:"form-list-item-operation"},t?l.default.createElement("span",{className:"btn-add"+(u?" disabled":""),onClick:this.operationClick.bind(this,"add",e,u)}):null,n?l.default.createElement("span",{className:"btn-del"+(s?" disabled":"")}," onClick=",this.operationClick.bind(this,"del",e,s)):null,r?l.default.createElement("span",{className:"btn-up"+(c?" disabled":""),onClick:this.operationClick.bind(this,"up",e,c)}):null,r?l.default.createElement("span",{className:"btn-down"+(f?" disabled":""),onClick:this.operationClick.bind(this,"down",e,f)}):null)}},{key:"operationClick",value:function(e,t,n){if(!n){var r=void 0,o=this.props.value||[];"add"===e?o.splice(t+1,0,null):"del"===e?o.splice(t,1):"up"===e?(r=o[t],o[t]=o[t-1],o[t-1]=r):"down"===e&&(r=o[t],o[t]=o[t+1],o[t+1]=r),this.props.setValue(o)}}},{key:"render",value:function(){var e=this.props,t=e.item,n=void 0===t?[]:t,r=e.value,o=e.row,a=e.minRow,i=e.maxRow,u=e.className,s=e.operationName,c=e.isAdd,f=e.isDel,p=e.isMove,d=e.title;r=r||[];for(var m=Math.max(o,a,1,n.length),y=c||f||p,h=this,b=[],v=0;v<m;v++){var g=n;y&&(g=n.concat([h.renderOperation(v,c,f,p,a,i,m)])),b.push(this.renderItem({type:"div",className:"form-list-item",children:g},r[v]||{},v))}var _=[];return n.forEach(function(e){_.push(l.default.createElement("span",{className:"form-list-th"},e.label||""))}),n.length&&y&&_.push(l.default.createElement("span",{className:"form-list-th form-list-operation"},s||"操作")),l.default.createElement("div",{className:"form-list"+(u?" "+u:"")},d?l.default.createElement("h3",{className:"form-list-title"},d):null,l.default.createElement("div",{className:"form-list-header"},_),l.default.createElement("div",{className:"form-list-body"},b))}}]),t}(i.Component);c.defaultProps={row:null,minRow:1,maxRow:null,isAdd:!1,isDel:!1,isMove:!1,item:[],on:function(){},fire:function(){},setValue:function(){},formData:{}},exports.default=c},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.register=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(0),u=t(l),s=e(1),c=t(s),f=e(11),p=t(f),d=e(9),m=t(d),y=e(10),h={},b=function(e){function t(){for(var e,o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];n(this,t);var l=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a)));l.message=new p.default,l.getItemProps=l.getItemProps.bind(l);var u=l.message.on;return l.message.on=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=e;return e&&"string"==typeof e&&(e=e.replace("on",""),e=e.charAt(0).toUpperCase()+e.slice(1),e="on"+e,a[e]&&a[e].apply(a,n)),u.apply(l.message,[o].concat(n)),function(){var e;(e=l.message).off.apply(e,[o].concat(a))}},l}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.jsonForm,t=void 0===e?[]:e,n={type:"form",children:t};return u.default.createElement(c.default,{components:h,state:n,getItemProps:this.getItemProps})}},{key:"checkValid",value:function(){var e=this.message._listeners.Valid,t=[];return e.forEach(function(e){e&&t.push(e())}),new Promise.all(t)}},{key:"getItemProps",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r={},o=this.props.formData||{},a=this.message.fire.bind(this.message),i=this.message.on.bind(this.message),l=o[t.name];if(!(0,y.checkIf)(t.if,o,l))return null;for(var u in t)u&&"type"!==u&&"children"!==u&&function(){var e=t[u];e&&/^on[A-Z]/g.test(u)?r[u]="string"==typeof e?function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];a.apply(void 0,[e,t].concat(r))}:e:r[u]=t[u]}();return n&&(r.value=l,r.setValue=function(t,n){r.name?(o[r.name]=t,e.props.onFormDataChange?e.props.onFormDataChange(o,n):e.setState({},n)):console.log("name not found")},r.fire=a,r.$components=h,r.formData=o,r.on=i),r}},{key:"componentWillUnmount",value:function(){this.message=null}}]),t}(l.Component);b.defaultProps={formData:{},jsonForm:[],onFormDataChange:null},exports.default=b;var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];"string"==typeof e&&t&&(h[e]=t),e&&"object"===(void 0===e?"undefined":a(e))&&(h=Object.assign(h,e))};v(m.default),exports.register=v},function(module,exports){},function(module,exports){module.exports=ReactDOM},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e(0),l=t(i),u=e(7),s=t(u);e(6);var c=e(5),f=t(c),p=e(2),d=(t(p),e(4)),m=(t(d),e(3)),y=(t(m),function(e){function t(e){n(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={formData:{}},o}return o(t,e),a(t,[{key:"render",value:function(){var e=[{name:"asas",type:"Input",label:"hello",required:!0},{name:"list1",type:"List",label:"hello",repeat:2,item:[{name:"name",type:"Input",label:"hello",required:!0},{name:"age",type:"Input",label:"hello",required:!0}]},{name:"list2",type:"List",label:"hello",item:[{name:"name1",type:"Input",label:"hello",required:!0},{name:"age",type:"Input",label:"hello",required:!0}]},{name:"obj",type:"Item",label:"hello",item:[{name:"name",type:"Input",label:"hello",required:!0},{name:"age",type:"Input",label:"hello",required:!0}]},{name:"obj2",type:"Item",label:"hello1",if:"$formData.asas === '1'",item:[{name:"name",type:"Input",label:"hello2",required:!0},{name:"age",type:"Input",label:"hello",required:!0}]},{type:"Submit"},{type:"Cancel"}];return l.default.createElement(f.default,{jsonForm:e,formData:this.state.formData,onSubmit:"",onFormDataChange:this.onChange.bind(this)})}},{key:"onChange",value:function(e){this.setState({formData:e})}}]),t}(i.Component));y.defaultProps={},s.default.render(l.default.createElement(y,null),document.getElementById("container"))},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(4),r=t(n),o=e(3),a=t(o),i=e(2),l=t(i);exports.default={List:r.default,Item:a.default,Input:l.default,Hidden:i.Hidden,Url:i.Url,Color:i.Color,Cancel:i.Cancel,Reset:i.Reset,Submit:i.Submit,Passworld:i.Passworld,Email:i.Email,Date:i.Date}},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e,t,n,r){var o=!0;if(!1===e)o=!1;else if("string"==typeof e){var a=new Function("$formData","$value","$data","return "+e);try{o=a(t,n)}catch(e){}}return o};exports.checkIf=t},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){t(this,e),this._listeners={}}return n(e,[{key:"on",value:function(e,t){var n=this._listeners[e]||[];return t=t||function(){},n.push(t),this._listeners[e]=n,this}},{key:"off",value:function(e,t){if(void 0===t)return delete this._listeners[e],this;var n=this._listeners[e]||[],r=[];return n.forEach(function(e){e!==t&&r.push(e)}),this._listeners[e]=r,this}},{key:"fire",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this._listeners[e];return o&&o.forEach(function(e){e&&e.apply(void 0,n)}),this}}]),e}();exports.default=r}]);